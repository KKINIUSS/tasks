# Как выполнять и сдавать задачи на курсе

## Как выполнять
Каждое задание представлено в отдельном каталоге. В каждом есть файл, в который нужно писать код с решением, и файл main.cpp - вы работаете только с ними.
Первый для решения, второй для отладки. **Файлы в папке tests вы не трогаете.**
В компиляторе включены дополнительные флаги для поиска ошибок в программе, при этом он интерпретирует каждое предупреждение как ошибку.
Так что игнорировать их не получится. Также используется санитайзер для поиска ошибок в работе с памятью.
При компиляции программы clang-tidy будет проверять ваш код на соответствие принятого на курсе стиля кода (Google codestyle).
При несоответствии все предупреждения превращаются в ошибки, так что игнорировать их опять-таки не получится. Это нужно для соблюдения единообразия кода на курсе.
Если вы прошли проверку стиля кода и уверены, что ваше решение правильно работает, то пора запускать тесты.
Если вы используете IDE в Linux, то проблем возникнуть не должно, просто в конфигурациях выберете $название_задания$_test и запустите.
**Ниже инструкция по сборке проекта для тех, кто использует Windows 10 с WSL**.

## Шаг 0
У вас не получится удобно компилировать задачи и запускать тесты прямо в IDE, поэтому придется отдельно писать код и компилировать его.
В подсистеме Linux перейдите в рабочий каталог с задачами.

## Шаг 1
Сначала вам нужно собрать проект с помощью команды:
```bash
cmake -S . -B build
```
В процессе разработки пересобирать проект вам понадобится только в случае обновления основного репозитория (изменения корневого CMakeLists.txt файла).  

## Шаг 2
Перейдите в сгенерированный cmake каталог build:
```bash
cd buid
```
Ваши действия по компиляции задач будут происходить в этой директории.
В консоли выполните ls -la, чтобы вывести список всех файлов и подкаталогов. Как вы можете заметить, некоторые подкаталоги совпадают с названиями задач.
При первом запуске желательно собрать все задачи, для этого в терминале выполните:
```bash
make
```
Произойдет компиляция всех необходимых зависимостей и задач.

## Шаг 3
Теперь вы можете компилировать отдельные задачи командой:
```bash
make target_name
```
Где target_name - имя необходимой задачи. Чтобы посмотреть список всех доступных задач в терминале введите: make <kbd>Space</kbd> + <kbd>Tab</kbd> + <kbd>Tab</kbd>
Например, скомпилировать задачу VectorWrapper можно так:
```bash
make vector_wrapper
```
А тесты к ней так:
```bash
make vector_wrapper_test
```
Чтобы посмотреть, какое у задачи значение target, нужно в директории с задачей открыть CMakeLists.txt и прочитать название в скобочках в строке project().
Перекомпилировать задачу нужно **каждый раз при изменении кода в директории с задачей**.

## Шаг 4
Наконец, чтобы запустить задачу вам надо перейти в каталог с её названием. Продолжим прошлый пример:
```bash
cd VectorWrapper
```
После запуска make в этой директории будет лежать бинарник программы. Запуск программы это запуск бинарника с именем задачи:
```bash
./vector_wrapper
```
Вывод в консоль и есть результат работы вашей программы.
Для запуска тестов нужно проделать то же самое, только в каталоге tests:
```bash
# мы сейчас в каталоге ../tasks/build/VectorWrapper
cd tests
./vector_wrapper_test
```
Вывод в консоль - результат работы тестов.
Вот и всё! Вы осилили этот сложный путь!

## Как сдавать
Если локальные тесты выполнились успешно и никто на вас не ругается, то задание считается выполненным. 
После этого вы можете создать новую ветку в репозитории, назвать её так, чтобы было понятно кому она принадлежит, и сделать
коммит с решенным заданием. Это по желанию для тех, кто хочет чтобы я посмотрел его код.
**Убедительная просьба коммитить в репозиторий тогда и только тогда, когда компилятор, санитайзер и clang-tidy не выдают ошибок и все тесты успешно пройдены!!!**